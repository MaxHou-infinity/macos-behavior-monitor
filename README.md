# MacOS 用户行为监控工具

这是一个用于 MacOS 的用户行为实时记录工具，可以捕获用户的鼠标和键盘事件，并提供 Web 界面进行实时监控和数据导出。

## 功能特点

- 实时捕获鼠标移动、点击和滚轮事件
- 提供 Web 界面进行监控和配置
- 支持自定义采样间隔（默认 10 秒）
- 支持测试模式和正常模式
- 数据加密存储选项
- 敏感信息过滤
- 数据导出功能

## 系统要求

- MacOS 10.14 或更高版本
- Python 3.7 或更高版本
- 必要的系统权限（辅助功能权限）

## 安装步骤

1. 克隆仓库：

```bash
git clone https://github.com/你的用户名/macos-behavior-monitor.git
cd macos-behavior-monitor
```

2. 安装依赖：

```bash
pip install -r requirements.txt
```

3. 安装 cliclick 工具（用于鼠标事件捕获）：

```bash
brew install cliclick
```

## 使用方法

1. 启动 Web 服务器：

```bash
python3 web_app.py
```

2. 在浏览器中访问：

```
http://127.0.0.1:5000
```

3. 通过 Web 界面配置和启动监控：
   - 设置采样间隔
   - 选择测试模式或正常模式
   - 启动/停止监控
   - 查看实时事件
   - 导出数据

## 权限设置

在正常模式下，需要授予应用程序辅助功能权限：

1. 系统偏好设置 > 安全性与隐私 > 隐私 > 辅助功能
2. 添加并勾选 Terminal 或您使用的终端应用

## 注意事项

- 本工具仅用于合法的用途，如用户行为分析、软件测试等
- 请尊重用户隐私，不要在未经许可的情况下监控他人
- 测试模式下不需要辅助功能权限，但会生成模拟数据

## 许可证

MIT License 